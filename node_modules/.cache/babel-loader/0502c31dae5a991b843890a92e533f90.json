{"ast":null,"code":"var _jsxFileName = \"/Users/shree/Documents/GitHub/escape580/src/components/prophecy.js\";\nimport React, { useLayoutEffect, useEffect, useCallback, useState } from 'react';\nimport Sound from 'react-sound';\nimport '../levels.css';\nimport prophecyinstructions from '../audio/prophecy/prophecyinstructions.m4a';\nimport theprophecy from '../audio/prophecy/prophecy.m4a';\nimport thunder from \"../audio/prophecy/thunder.wav\";\nimport foreboding from \"../audio/prophecy/foreboding.wav\";\nimport transition from '../audio/transition.mov'; // \"Something Evil Approaches, A.wav\" by InspectorJ (www.jshaw.co.uk) of Freesound.org\n\nimport hermione_g from '../audio/prophecy/hermione.m4a';\nimport hermione_reply from '../audio/prophecy/hermione_reply.m4a';\nimport p_pettigrew from '../audio/prophecy/pettigrew.m4a';\nimport pettigrew_reply from '../audio/prophecy/pettigrew_reply.m4a';\nimport neville_l from '../audio/prophecy/neville.m4a';\nimport neville_reply from '../audio/prophecy/neville_reply.m4a';\nimport s_snape from '../audio/prophecy/snape.m4a';\nimport snape_reply from '../audio/prophecy/snape_reply.m4a';\n\nfunction RenderReply(props) {\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(Sound, {\n    url: props.reply,\n    playStatus: Sound.status.PLAYING,\n    autoLoad: true,\n    loop: false,\n    volume: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }));\n}\n\nexport function Prophecy(props) {\n  const handleViewChange = props.handleViewChange === undefined ? null : props.handleViewChange;\n\n  const finishedinstructions = () => {\n    setSound(React.createElement(Sound, {\n      url: theprophecy,\n      playStatus: Sound.status.PLAYING,\n      autoLoad: true,\n      loop: false,\n      volume: 100,\n      onFinishedPlaying: finishedprophecy,\n      playbackRate: \".8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }));\n  };\n\n  const finishedprophecy = () => {\n    setSound(React.createElement(RenderReply, {\n      reply: foreboding,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n  };\n\n  const intro = React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Sound, {\n    url: prophecyinstructions,\n    playStatus: Sound.status.PLAYING,\n    onFinishedPlaying: finishedinstructions,\n    autoLoad: true,\n    loop: false,\n    volume: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(Sound, {\n    url: foreboding,\n    playStatus: Sound.status.PLAYING,\n    autoLoad: true,\n    loop: true,\n    volume: \"40\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(Sound, {\n    url: thunder,\n    playStatus: Sound.status.PLAYING,\n    autoLoad: true,\n    loop: false,\n    volume: \"80\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }));\n\n  const finishTransition = () => {\n    setSound(intro);\n  };\n\n  const repeatIntro = () => {\n    Sound.playStatus = Sound.status.STOPPED;\n    setSound(React.createElement(Sound, {\n      url: prophecyinstructions,\n      playStatus: Sound.status.STOPPED,\n      autoLoad: true,\n      loop: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n    setSound(React.createElement(Sound, {\n      url: foreboding,\n      playStatus: Sound.status.STOPPED,\n      autoLoad: true,\n      loop: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }));\n    setSound(intro);\n  };\n\n  const transit = React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Sound, {\n    url: transition,\n    playStatus: Sound.status.PLAYING,\n    onFinishedPlaying: finishTransition,\n    autoLoad: true,\n    loop: false,\n    volume: 50,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }));\n  const hermione = React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(Sound, {\n    url: hermione_g,\n    playStatus: Sound.status.PLAYING,\n    autoLoad: true,\n    loop: false,\n    volume: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }));\n  const pettigrew = React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(Sound, {\n    url: p_pettigrew,\n    playStatus: Sound.status.PLAYING,\n    autoLoad: true,\n    loop: false,\n    volume: 100,\n    playbackRate: \".7\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }));\n  const neville = React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(Sound, {\n    url: neville_l,\n    playStatus: Sound.status.PLAYING,\n    autoLoad: true,\n    loop: false,\n    volume: 100,\n    playbackRate: \".8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }));\n  const snape = React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(Sound, {\n    url: s_snape,\n    playStatus: Sound.status.PLAYING,\n    autoLoad: true,\n    loop: false,\n    volume: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }));\n\n  const handleHermione = () => {\n    // Hermione hates Divination, and the prophecy refers to a \"he.\" Try again!\n    setSound(React.createElement(RenderReply, {\n      reply: hermione_reply,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }));\n  };\n\n  const handlePettigrew = () => {\n    // Peter has been the subject of a different prophecy, but not this one. Try again!\n    setSound(React.createElement(RenderReply, {\n      reply: pettigrew_reply,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }));\n  };\n\n  const handleNeville = () => {\n    // Neville was born at the end of July, and his parents defied Lord Voldemort as members of the Order of the Phoenix. The prophecy could have been about him. Good job!\n    setSound(React.createElement(Sound, {\n      url: neville_reply,\n      playStatus: Sound.status.PLAYING,\n      autoLoad: true,\n      loop: false,\n      volume: 100,\n      onFinishedPlaying: finishedLevel,\n      playbackRate: \".8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }));\n  };\n\n  const handleSnape = () => {\n    // This prophecy isn't about Snape, but he did overhear a part of it in the Hogs Head. Try again!\n    setSound(React.createElement(Sound, {\n      url: snape_reply,\n      playStatus: Sound.status.PLAYING,\n      autoLoad: true,\n      loop: false,\n      volume: 100,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }));\n  };\n\n  const finishedLevel = () => {\n    handleViewChange('ending');\n  };\n\n  const [sound, setSound] = useState(transit);\n  const [correct, setCorrect] = useState(false);\n\n  const handleSpace = () => {\n    let id = console.log(document.activeElement.id);\n\n    switch (id) {\n      case \"hermione\":\n        handleHermione();\n        break;\n\n      case \"pettigrew\":\n        handlePettigrew();\n        break;\n\n      case \"neville\":\n        handleNeville();\n        break;\n\n      case \"snape\":\n        handleSnape();\n        break;\n    }\n  };\n\n  const handleSelect = name => {\n    console.log(name);\n\n    switch (name) {\n      case -1:\n        setSound(hermione);\n        break;\n\n      case 4:\n        handleSelect(-1);\n        break;\n\n      case 1:\n        setSound(pettigrew);\n        break;\n\n      case 2:\n        setSound(neville);\n        break;\n\n      case 3:\n        setSound(snape);\n        break;\n    }\n  };\n\n  const handleKey = useCallback(e => {\n    var event = window.event ? window.event : e;\n    console.log(event);\n\n    switch (e.key) {\n      case \"Tab\":\n        handleSelect(document.activeElement.tabIndex);\n        break;\n\n      case \" \":\n        handleSpace();\n        break;\n\n      case \"r\":\n        repeatIntro();\n        break;\n\n      case \"Escape\":\n        props.exit();\n    }\n  }, [props]);\n  useLayoutEffect(() => {\n    document.addEventListener(\"keydown\", handleKey);\n    return function cleanup() {\n      document.removeEventListener(\"keydown\", handleKey);\n    };\n  });\n  return React.createElement(\"div\", {\n    id: \"prophecy-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"d-landing\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, React.createElement(\"h\", {\n    id: \"h-entrance\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }, \"Who could the prophecy be about?\"), React.createElement(\"p\", {\n    id: \"p-landing\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }, \"You are now at the final challenge. From the maze, you have been transported to the Hall of Prophecies. The walls are crashing down and the prophecy orbs are rolling off their shelves! One of the orbs near you shatters and you can hear a thrilling prophecy. It seems to be about Harry Potter, but who else could it be about? You must answer correctly to win the TriWizard Tournament! This is the prophecy: The one with the power to vanquish the Dark Lord approaches... born to those who have thrice defied him, born as the seventh month dies... and the Dark Lord will mark him as his equal, but he will have power the Dark Lord knows not... and either must die at the hand of the other for neither can live while the other survives... the one with the power to vanquish the Dark Lord will be born as the seventh month dies...\"), React.createElement(\"div\", {\n    id: \"d-options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"hermione\",\n    tabIndex: \"1\",\n    onClick: handleHermione,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  }, \" Hermione Granger \"), React.createElement(\"button\", {\n    tabIndex: \"2\",\n    id: \"pettigrew\",\n    onClick: handlePettigrew,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282\n    },\n    __self: this\n  }, \"Peter Pettigrew\"), React.createElement(\"button\", {\n    tabIndex: \"3\",\n    id: \"neville\",\n    onClick: handleNeville,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, \"Neville Longbottom\"), React.createElement(\"button\", {\n    tabIndex: \"4\",\n    id: \"snape\",\n    onClick: handleSnape,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }, \"Severus Snape\")), sound));\n}","map":{"version":3,"sources":["/Users/shree/Documents/GitHub/escape580/src/components/prophecy.js"],"names":["React","useLayoutEffect","useEffect","useCallback","useState","Sound","prophecyinstructions","theprophecy","thunder","foreboding","transition","hermione_g","hermione_reply","p_pettigrew","pettigrew_reply","neville_l","neville_reply","s_snape","snape_reply","RenderReply","props","reply","status","PLAYING","Prophecy","handleViewChange","undefined","finishedinstructions","setSound","finishedprophecy","intro","finishTransition","repeatIntro","playStatus","STOPPED","transit","hermione","pettigrew","neville","snape","handleHermione","handlePettigrew","handleNeville","finishedLevel","handleSnape","sound","correct","setCorrect","handleSpace","id","console","log","document","activeElement","handleSelect","name","handleKey","e","event","window","key","tabIndex","exit","addEventListener","cleanup","removeEventListener"],"mappings":"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","sourcesContent":["import React, { useLayoutEffect, useEffect, useCallback, useState } from 'react';\nimport Sound from 'react-sound';\nimport '../levels.css';\nimport prophecyinstructions from '../audio/prophecy/prophecyinstructions.m4a';\nimport theprophecy from '../audio/prophecy/prophecy.m4a';\nimport thunder from \"../audio/prophecy/thunder.wav\";\nimport foreboding from \"../audio/prophecy/foreboding.wav\";\nimport transition from '../audio/transition.mov';\n// \"Something Evil Approaches, A.wav\" by InspectorJ (www.jshaw.co.uk) of Freesound.org\n\nimport hermione_g from '../audio/prophecy/hermione.m4a';\nimport hermione_reply from '../audio/prophecy/hermione_reply.m4a';\n\nimport p_pettigrew from '../audio/prophecy/pettigrew.m4a';\nimport pettigrew_reply from '../audio/prophecy/pettigrew_reply.m4a';\n\nimport neville_l from '../audio/prophecy/neville.m4a';\nimport neville_reply from '../audio/prophecy/neville_reply.m4a';\n\nimport s_snape from '../audio/prophecy/snape.m4a';\nimport snape_reply from '../audio/prophecy/snape_reply.m4a';\n\n\nfunction RenderReply(props) {\n  return (\n    <React.Fragment>\n      <Sound\n        url={props.reply}\n        playStatus={Sound.status.PLAYING}\n        autoLoad={true}\n        loop={false}\n        volume={100}\n      />\n    </React.Fragment>\n  );\n}\n\nexport function Prophecy(props) {\n\n  const handleViewChange = props.handleViewChange === undefined ? null : props.handleViewChange;\n  const finishedinstructions = () => {\n    setSound(<Sound\n      url={theprophecy}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={false}\n      volume={100}\n      onFinishedPlaying={finishedprophecy}\n      playbackRate='.8'\n    />);\n\n  }\n\n  const finishedprophecy = () => {\n    setSound(<RenderReply reply={foreboding} />);\n  }\n\n  const intro = <React.Fragment>\n    <Sound\n      url={prophecyinstructions}\n      playStatus={Sound.status.PLAYING}\n      onFinishedPlaying={finishedinstructions}\n      autoLoad={true}\n      loop={false}\n      volume={100} />\n    <Sound\n      url={foreboding}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={true}\n      volume=\"40\"\n    />\n    <Sound\n      url={thunder}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={false}\n      volume=\"80\"\n    />\n  </React.Fragment>;\n\n  const finishTransition = () => {\n    setSound(intro);\n  };\n  const repeatIntro = () => {\n    Sound.playStatus = Sound.status.STOPPED;\n    setSound(\n      <Sound\n        url={prophecyinstructions}\n        playStatus={Sound.status.STOPPED}\n        autoLoad={true}\n        loop={false}\n      />\n    );\n\n    setSound(\n      <Sound\n        url={foreboding}\n        playStatus={Sound.status.STOPPED}\n        autoLoad={true}\n        loop={false}\n      />\n    );\n\n    setSound(intro);\n  }\n  const transit = <React.Fragment>\n    <Sound\n      url={transition}\n      playStatus={Sound.status.PLAYING}\n      onFinishedPlaying={finishTransition}\n      autoLoad={true}\n      loop={false}\n      volume={50}\n    />\n  </React.Fragment>;\n\n  const hermione = <React.Fragment>\n    <Sound\n      url={hermione_g}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={false}\n      volume={100} />\n  </React.Fragment>;\n\n  const pettigrew = <React.Fragment>\n    <Sound\n      url={p_pettigrew}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={false}\n      volume={100}\n      playbackRate='.7' />\n  </React.Fragment>;\n\n  const neville = <React.Fragment>\n    <Sound\n      url={neville_l}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={false}\n      volume={100}\n      playbackRate='.8' />\n\n  </React.Fragment>;\n\n  const snape = <React.Fragment>\n    <Sound\n      url={s_snape}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={false}\n      volume={100} />\n  </React.Fragment>;\n\n  const handleHermione = () => {\n    // Hermione hates Divination, and the prophecy refers to a \"he.\" Try again!\n    setSound(<RenderReply reply={hermione_reply} />);\n  }\n  const handlePettigrew = () => {\n    // Peter has been the subject of a different prophecy, but not this one. Try again!\n    setSound(<RenderReply reply={pettigrew_reply} />);\n  }\n\n  const handleNeville = () => {\n    // Neville was born at the end of July, and his parents defied Lord Voldemort as members of the Order of the Phoenix. The prophecy could have been about him. Good job!\n    setSound(<Sound\n      url={neville_reply}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={false}\n      volume={100}\n      onFinishedPlaying={finishedLevel}\n      playbackRate='.8'\n    />);\n  }\n\n  const handleSnape = () => {\n    // This prophecy isn't about Snape, but he did overhear a part of it in the Hogs Head. Try again!\n    setSound(<Sound\n      url={snape_reply}\n      playStatus={Sound.status.PLAYING}\n      autoLoad={true}\n      loop={false}\n      volume={100}\n    />);\n  }\n\n\n  const finishedLevel = () => {\n    handleViewChange('ending');\n  }\n\n  const [sound, setSound] = useState(transit);\n  const [correct, setCorrect] = useState(false);\n\n  const handleSpace = () => {\n    let id = console.log(document.activeElement.id);\n    switch (id) {\n      case \"hermione\":\n        handleHermione();\n        break;\n      case \"pettigrew\":\n        handlePettigrew();\n        break;\n      case \"neville\":\n        handleNeville();\n        break;\n      case \"snape\":\n        handleSnape();\n        break;\n    }\n  }\n\n  const handleSelect = (name) => {\n    console.log(name);\n    switch (name) {\n      case -1:\n        setSound(hermione);\n        break;\n      case 4:\n        handleSelect(-1);\n        break;\n      case 1:\n        setSound(pettigrew);\n        break;\n      case 2:\n        setSound(neville);\n        break;\n      case 3:\n        setSound(snape);\n        break;\n    }\n  }\n\n  const handleKey = useCallback((e) => {\n    var event = window.event ? window.event : e;\n    console.log(event);\n    switch (e.key) {\n      case \"Tab\":\n        handleSelect(document.activeElement.tabIndex)\n        break;\n      case \" \":\n        handleSpace();\n        break;\n      case \"r\":\n        repeatIntro();\n        break;\n      case \"Escape\":\n        props.exit();\n    }\n  }, [props]);\n\n  useLayoutEffect(() => {\n    document.addEventListener(\"keydown\", handleKey);\n    return function cleanup() {\n      document.removeEventListener(\"keydown\", handleKey);\n    };\n  });\n\n  return (\n    <div id=\"prophecy-image\">\n      <div id=\"d-landing\">\n        <h id=\"h-entrance\" >\n          Who could the prophecy be about?\n                      </h>\n        <p id=\"p-landing\">\n          You are now at the final challenge. From the maze, you have been transported to the Hall of Prophecies.\n          The walls are crashing down and the prophecy orbs are rolling off their shelves!\n          One of the orbs near you shatters and you can hear a thrilling prophecy.\n          It seems to be about Harry Potter, but who else could it be about? You must answer correctly to win the TriWizard Tournament!\n          This is the prophecy:\n\n          The one with the power to vanquish the Dark Lord approaches... born to those who have thrice defied him,\n          born as the seventh month dies... and the Dark Lord will mark him as his equal, but he will have power the Dark Lord knows not...\n          and either must die at the hand of the other for neither can live while the other survives...\n          the one with the power to vanquish the Dark Lord will be born as the seventh month dies...\n                      </p>\n        <div id=\"d-options\">\n          <button id=\"hermione\" tabIndex=\"1\" onClick={handleHermione}> Hermione Granger </button>\n          <button tabIndex=\"2\" id=\"pettigrew\" onClick={handlePettigrew}>Peter Pettigrew</button>\n          <button tabIndex=\"3\" id=\"neville\" onClick={handleNeville}>Neville Longbottom</button>\n          <button tabIndex=\"4\" id=\"snape\" onClick={handleSnape}>Severus Snape</button>\n        </div>\n        {sound}\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}